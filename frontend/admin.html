<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Admin â€” Clearoid</title>

	<link rel="stylesheet" href="/styles.css">
</head>

<body>

	<div class="container">

		<h2>Admin Dashboard</h2>

		<div id="stats">Loading...</div>

	</div>

	<script>
		fetch("/admin/stats")
			.then(r => r.json())
			.then(j => {
				document.getElementById("stats").innerHTML = `
                    <p>Total titles: <b>${j.total}</b></p>
                    <p>Duplicates: <b>${j.duplicates}</b></p>
                    <p>Unique: <b>${j.unique}</b></p>
                    <p>Average length: <b>${j.avg_title_length.toFixed(1)}</b></p>

                    <h4>Top normalized</h4>
                    <pre>${JSON.stringify(j.top_normalized, null, 2)}</pre>

                    <h4>Recent</h4>
                    <pre>${JSON.stringify(j.recent, null, 2)}</pre>
                `;
			});
	</script>

</body>

</html>